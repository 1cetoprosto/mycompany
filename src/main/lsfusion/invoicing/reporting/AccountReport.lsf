MODULE AccountReport;

REQUIRE Payment;

NAMESPACE Invoicing;

FORM accountReport 'Остатки по счетам'
    OBJECTS a = Account
    PROPERTIES(a) READONLY  number, nameAccountHolder, notes, inAmount, outAmount, balance
    
    OBJECTS p = Payment
    PROPERTIES(p) READONLY date, fromAccountName, Invoicing.toAccountName[Payment], amount
    FILTERS toAccount(p) = a OR fromAccount(p) = a
;

NAVIGATOR {
    invoicing {
        reports{
            NEW accountReport;        
        }
    }
}
